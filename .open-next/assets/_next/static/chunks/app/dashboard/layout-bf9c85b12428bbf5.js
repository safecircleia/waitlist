(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{268:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var a=r(6636);function s(e){let t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...e)=>t.current?.(...e),[])}},549:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,q:()=>l});var a=r(6636),s=r(6384);function l(e,t){let r=a.createContext(t),l=e=>{let{children:t,...l}=e,i=a.useMemo(()=>l,Object.values(l));return(0,s.jsx)(r.Provider,{value:i,children:t})};return l.displayName=e+"Provider",[l,function(s){let l=a.useContext(r);if(l)return l;if(void 0!==t)return t;throw Error(`\`${s}\` must be used within \`${e}\``)}]}function i(e,t=[]){let r=[],l=()=>{let t=r.map(e=>a.createContext(e));return function(r){let s=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return l.scopeName=e,[function(t,l){let i=a.createContext(l),n=r.length;r=[...r,l];let o=t=>{let{scope:r,children:l,...o}=t,c=r?.[e]?.[n]||i,d=a.useMemo(()=>o,Object.values(o));return(0,s.jsx)(c.Provider,{value:d,children:l})};return o.displayName=t+"Provider",[o,function(r,s){let o=s?.[e]?.[n]||i,c=a.useContext(o);if(c)return c;if(void 0!==l)return l;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:a})=>{let s=r(e)[`__scope${a}`];return{...t,...s}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(l,...t)]}},4174:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});var a=r(6636),s=globalThis?.document?a.useLayoutEffect:()=>{}},4342:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>o,TN:()=>d,XL:()=>c});var a=r(6384),s=r(6636),l=r(88),i=r(5515);let n=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,...l}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(n({variant:s}),r),...l})});o.displayName="Alert";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})});c.displayName="AlertTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...s})});d.displayName="AlertDescription"},5030:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>q});var a=r(6384),s=r(6636),l=r(4582),i=r(7988),n=r(9100),o=r(5212),c=r(4287);let d=(0,c.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var u=r(2893),f=r(9934),m=r(4342),h=r(5949),x=r(9945),p=r(9957);let v=(0,c.A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var g=r(6605),w=r(1685),b=r.n(w),y=r(549),N=r(268),j=r(4174),k=r(9727),C="Avatar",[A,R]=(0,y.A)(C),[I,M]=A(C),S=s.forwardRef((e,t)=>{let{__scopeAvatar:r,...l}=e,[i,n]=s.useState("idle");return(0,a.jsx)(I,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:n,children:(0,a.jsx)(k.sG.span,{...l,ref:t})})});S.displayName=C;var T="AvatarImage",L=s.forwardRef((e,t)=>{let{__scopeAvatar:r,src:l,onLoadingStatusChange:i=()=>{},...n}=e,o=M(T,r),c=function(e,t){let[r,a]=s.useState("idle");return(0,j.N)(()=>{if(!e)return void a("error");let r=!0,s=new window.Image,l=e=>()=>{r&&a(e)};return a("loading"),s.onload=l("loaded"),s.onerror=l("error"),s.src=e,t&&(s.referrerPolicy=t),()=>{r=!1}},[e,t]),r}(l,n.referrerPolicy),d=(0,N.c)(e=>{i(e),o.onImageLoadingStatusChange(e)});return(0,j.N)(()=>{"idle"!==c&&d(c)},[c,d]),"loaded"===c?(0,a.jsx)(k.sG.img,{...n,ref:t,src:l}):null});L.displayName=T;var P="AvatarFallback",_=s.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:l,...i}=e,n=M(P,r),[o,c]=s.useState(void 0===l);return s.useEffect(()=>{if(void 0!==l){let e=window.setTimeout(()=>c(!0),l);return()=>window.clearTimeout(e)}},[l]),o&&"loaded"!==n.imageLoadingStatus?(0,a.jsx)(k.sG.span,{...i,ref:t}):null});_.displayName=P;var H=r(5515);let J=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(S,{ref:t,className:(0,H.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...s})});J.displayName=S.displayName;let E=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(L,{ref:t,className:(0,H.cn)("aspect-square h-full w-full",r),...s})});E.displayName=L.displayName;let $=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(_,{ref:t,className:(0,H.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...s})});function z(e){var t;let{activeTab:r,setActiveTab:s,user:l,referralData:i}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(f.Zp,{className:"border border-[#1a1a1a] bg-[#0f0f0f]/90 backdrop-blur-sm",children:(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4 py-4",children:[(0,a.jsx)("div",{className:"relative overflow-hidden w-24 h-24 rounded-full",children:(0,a.jsxs)(J,{className:"h-24 w-24",children:[(0,a.jsx)($,{className:"bg-primary/10 text-primary text-3xl",children:l.name?l.name.charAt(0).toUpperCase():null==(t=l.email)?void 0:t.charAt(0).toUpperCase()}),l.image&&(0,a.jsx)(E,{src:l.image,className:"object-cover"})]})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:l.name||"User"}),(0,a.jsx)("p",{className:"text-sm text-[#a0a0a0]",children:l.email})]})]})})}),(0,a.jsx)(f.Zp,{className:"border border-[#1a1a1a] bg-[#0f0f0f]/90 backdrop-blur-sm overflow-hidden",children:(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsxs)(u.P.button,{onClick:()=>s("waitlist"),className:"flex items-center w-full text-left px-3 py-2 rounded-md ".concat("waitlist"===r?"bg-[#1a1a1a]":"hover:bg-[#1a1a1a]/50"," transition-colors"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Join Waitlist"]}),(0,a.jsxs)(u.P.button,{onClick:()=>s("alpha"),className:"flex items-center w-full text-left px-3 py-2 rounded-md mt-1 relative overflow-hidden ".concat("alpha"===r?"bg-[#1a1a1a]":"hover:bg-[#1a1a1a]/50"," transition-colors group"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,a.jsx)("span",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 bg-gradient-to-r from-purple-600/20 to-blue-600/20 transition-opacity duration-300 rounded-md pointer-events-none"}),(0,a.jsx)("span",{className:"absolute -inset-x-2 bottom-0 h-[2px] bg-gradient-to-r from-purple-500 to-blue-500 opacity-0 group-hover:opacity-100 transform origin-left scale-x-0 group-hover:scale-x-100 transition-all duration-300"}),(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-blue-400 group-hover:text-blue-300 transition-colors",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1V6.5L15.5 2z"}),(0,a.jsx)("path",{d:"M3 7.6v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8"}),(0,a.jsx)("path",{d:"M15 2v5h5"})]}),(0,a.jsx)("span",{className:"group-hover:text-blue-300 transition-colors",children:"Access Alpha"})]}),"          ",(0,a.jsxs)("div",{className:"mt-1",children:[(0,a.jsxs)(u.P.button,{onClick:()=>{"account"===r||r.startsWith("account/")?s(""):s("account/profile")},className:"flex items-center justify-between w-full text-left px-3 py-2 rounded-md ".concat("account"===r||"account/profile"===r||"account/security"===r?"bg-[#1a1a1a]":"hover:bg-[#1a1a1a]/50"," transition-colors"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Account Settings"]}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-transform duration-200 ".concat("account"===r||r.startsWith("account/")?"rotate-90":""),children:(0,a.jsx)("polyline",{points:"9 18 15 12 9 6"})})]}),("account"===r||"account/profile"===r||"account/security"===r)&&(0,a.jsxs)(u.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"ml-6 mt-1 space-y-1 overflow-hidden",children:[(0,a.jsxs)(u.P.button,{onClick:()=>s("account/profile"),className:"flex items-center w-full text-left px-3 py-2 rounded-md text-sm ".concat("account/profile"===r?"bg-[#1a1a1a]/80":"hover:bg-[#1a1a1a]/30"," transition-colors"),whileHover:{scale:1.01},whileTap:{scale:.99},children:[(0,a.jsx)(x.A,{className:"h-3 w-3 mr-2"}),"Profile"]}),(0,a.jsxs)(u.P.button,{onClick:()=>s("account/security"),className:"flex items-center w-full text-left px-3 py-2 rounded-md text-sm ".concat("account/security"===r?"bg-[#1a1a1a]/80":"hover:bg-[#1a1a1a]/30"," transition-colors"),whileHover:{scale:1.01},whileTap:{scale:.99},children:[(0,a.jsx)(p.A,{className:"h-3 w-3 mr-2"}),"Security"]})]})]}),(0,a.jsxs)(u.P.button,{onClick:()=>s("donate"),className:"flex items-center w-full text-left px-3 py-2 rounded-md mt-1 ".concat("donate"===r?"bg-[#1a1a1a]":"hover:bg-[#1a1a1a]/50"," transition-colors"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,a.jsx)(v,{className:"h-4 w-4 mr-2"}),"Donate"]})]})}),i&&!0!==i.hasJoinedWaitlist&&(0,a.jsxs)(m.Fc,{className:"bg-amber-900/20 border-amber-600/20 text-amber-400",children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),(0,a.jsx)(m.XL,{children:"Join our waitlist"}),(0,a.jsx)(m.TN,{children:"You haven't joined our waitlist yet. Join to get early access to SafeCircle."}),(0,a.jsx)(o.$,{variant:"link",className:"px-0 text-amber-400",asChild:!0,children:(0,a.jsx)(b(),{href:"/dashboard/waitlist",children:"Join waitlist"})})]})]})}function q(e){let{children:t}=e,r=(0,l.useRouter)(),{data:c,isPending:u}=(0,i.wV)(),f=null==c?void 0:c.user,[m,h]=(0,s.useState)("waitlist"),[x,p]=(0,s.useState)({});(0,s.useEffect)(()=>{u||f||r.push("/")},[u,f,r]),(0,s.useEffect)(()=>{f&&(async()=>{try{let e=(0,n.k)(),{data:t,error:r}=await e.from("waitlist").select("referral_code").eq("email",f.email).single();t&&t.referral_code?p({referralCode:t.referral_code,hasJoinedWaitlist:!0}):p({hasJoinedWaitlist:!1})}catch(e){console.error("Error checking waitlist submission:",e)}})()},[f]);let v=async()=>{await (0,i.CI)(),r.push("/")};return u?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})}):f?(0,a.jsx)("div",{className:"min-h-screen py-10 px-4 relative",children:(0,a.jsxs)("div",{className:"container max-w-6xl mx-auto relative z-10",children:[(0,a.jsxs)("div",{className:"mb-8 flex flex-col md:flex-row justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"SafeCircle Dashboard"}),(0,a.jsx)("p",{className:"text-[#a0a0a0]",children:"Join our revolutionary platform to protect children online."})]}),(0,a.jsx)("div",{className:"mt-4 md:mt-0",children:(0,a.jsxs)(o.$,{variant:"destructive",onClick:v,className:"bg-red-900/20 hover:bg-red-900/30 text-red-400",children:[(0,a.jsx)(d,{className:"h-4 w-4 mr-2"}),"Sign out"]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[250px_1fr] gap-8",children:[(0,a.jsx)(z,{activeTab:m,setActiveTab:e=>{if(h(e),e.includes("/")){let[t,a]=e.split("/");r.push("/dashboard/".concat(t,"/").concat(a))}else r.push("/dashboard/".concat(e))},user:f,referralData:x}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"bg-gradient-to-b from-[#0f0f0f]/90 to-[#0a0a0a]/90 backdrop-blur-md rounded-xl border border-[#1a1a1a] shadow-xl overflow-hidden p-6",children:t})})]})]})}):null}$.displayName=_.displayName},5212:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var a=r(6384),s=r(6636),l=r(5167),i=r(88),n=r(5515);let o=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 transition-all duration-200",{variants:{variant:{default:"bg-white text-black hover:bg-[#f0f0f0]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-[#333333] bg-transparent hover:bg-[#1a1a1a] hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:c=!1,...d}=e,u=c?l.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(o({variant:s,size:i,className:r})),ref:t,...d})});c.displayName="Button"},5515:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(4534),s=r(1639);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},5949:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4287).A)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},6605:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4287).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6688:(e,t,r)=>{Promise.resolve().then(r.bind(r,5030))},7988:(e,t,r)=>{"use strict";r.d(t,{CI:()=>c,Hh:()=>n,Jv:()=>o,Sn:()=>i,wV:()=>d});var a=r(7935),s=r(7550),l=r(4401);let i=(0,a.MB)({plugins:[(0,s.NA)({onTwoFactorRedirect(){window.location.href="/two-factor"}}),(0,s.KM)(),(0,s.jz)()],fetchOptions:{onError(e){429===e.error.status&&l.oR.error("Too many requests. Please try again later.")}}}),{signUp:n,signIn:o,signOut:c,useSession:d}=i;i.$store.listen("$sessionSignal",async()=>{})},9100:(e,t,r)=>{"use strict";r.d(t,{k:()=>s});var a=r(9898);r(7946);let s=()=>{let e="https://jdlnotmcksutqqwvpdwe.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpkbG5vdG1ja3N1dHFxd3ZwZHdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxMjU1NDksImV4cCI6MjA2MjcwMTU0OX0.C-n9E7yak-aThGA1q3c-DR-oezGMeHzpfXmH5cXYbLU";if(!e||!t)throw Error("Missing Supabase environment variables");return(0,a.UU)(e,t)}},9934:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>i,aR:()=>n,wL:()=>u});var a=r(6384),s=r(6636),l=r(5515);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});n.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},9957:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4287).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[148,893,965,685,388,309,951,358],()=>t(6688)),_N_E=e.O()}]);