(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[175],{1044:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var a=r(6636),s=r(9727),l=r(6384),i=a.forwardRef((e,t)=>(0,l.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=i},2142:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var a=r(6384),s=r(6636),l=r(1044),i=r(88),n=r(5515);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.b,{ref:t,className:(0,n.cn)(d(),r),...s})});o.displayName=l.b.displayName},2944:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var a=r(6384),s=r(6636),l=r(5515);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#444444] focus-visible:border-[#444444] disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",r),ref:t,...i})});i.displayName="Input"},4127:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4287).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},5212:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var a=r(6384),s=r(6636),l=r(5167),i=r(88),n=r(5515);let d=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 transition-all duration-200",{variants:{variant:{default:"bg-white text-black hover:bg-[#f0f0f0]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-[#333333] bg-transparent hover:bg-[#1a1a1a] hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:o=!1,...c}=e,u=o?l.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(d({variant:s,size:i,className:r})),ref:t,...c})});o.displayName="Button"},5397:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4287).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},5515:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(4534),s=r(1639);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},6605:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4287).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7988:(e,t,r)=>{"use strict";r.d(t,{CI:()=>o,Hh:()=>n,Jv:()=>d,Sn:()=>i,wV:()=>c});var a=r(7935),s=r(7550),l=r(4401);let i=(0,a.MB)({plugins:[(0,s.NA)({onTwoFactorRedirect(){window.location.href="/two-factor"}}),(0,s.KM)(),(0,s.jz)()],fetchOptions:{onError(e){429===e.error.status&&l.oR.error("Too many requests. Please try again later.")}}}),{signUp:n,signIn:d,signOut:o,useSession:c}=i;i.$store.listen("$sessionSignal",async()=>{})},8899:(e,t,r)=>{Promise.resolve().then(r.bind(r,9296))},9296:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(6384),s=r(5212),l=r(9934),i=r(2944),n=r(2142),d=r(7988),o=r(5397),c=r(6605),u=r(4127),f=r(4582),m=r(6636);function x(){let[e,t]=(0,m.useState)(""),[r,x]=(0,m.useState)(!1),[h,p]=(0,m.useState)(""),[y,g]=(0,m.useState)(!1),[v,b]=(0,m.useState)(!1),[w,N]=(0,m.useState)(!1),j=(0,f.useRouter)(),{data:k}=(0,d.wV)(),C=async()=>{try{N(!0);let e=await d.Sn.twoFactor.sendOtp();e.error?(p(e.error.message||"Failed to send OTP"),g(!0)):(p("OTP sent to your email"),g(!1),x(!0))}catch(e){p("Failed to send OTP. Please try again."),g(!0)}finally{N(!1)}},P=async()=>{try{N(!0),(await d.Sn.twoFactor.verifyOtp({code:e})).data?(p("OTP validated successfully"),g(!1),b(!0),j.push("/")):(g(!0),p("Invalid OTP"))}catch(e){p("Failed to validate OTP. Please try again."),g(!0)}finally{N(!1)}};return(0,a.jsx)("main",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-10rem)]",children:(0,a.jsxs)(l.Zp,{className:"w-[350px]",children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"Two-Factor Authentication"}),(0,a.jsx)(l.BT,{children:"Verify your identity with a one-time password"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"grid w-full items-center gap-4",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,a.jsx)(n.J,{htmlFor:"otp",children:"One-Time Password"}),(0,a.jsxs)(n.J,{className:"py-2",children:["Check your email at ",null==k?void 0:k.user.email," for the OTP"]}),(0,a.jsx)(i.p,{id:"otp",placeholder:"Enter 6-digit OTP",value:e,onChange:e=>t(e.target.value),maxLength:6,disabled:w})]}),(0,a.jsx)(s.$,{onClick:P,disabled:6!==e.length||v||w,children:w?"Validating...":"Validate OTP"})]}):(0,a.jsx)(s.$,{onClick:C,className:"w-full",disabled:w,children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Send OTP to Email"]})})}),h&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-4 ".concat(y?"text-red-500":"text-primary"),children:[y?(0,a.jsx)(c.A,{className:"h-4 w-4"}):(0,a.jsx)(u.A,{className:"h-4 w-4"}),(0,a.jsx)("p",{className:"text-sm",children:h})]})]})]})})}},9934:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>n,wL:()=>u});var a=r(6384),s=r(6636),l=r(5515);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});n.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});d.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"}},e=>{var t=t=>e(e.s=t);e.O(0,[148,965,309,951,358],()=>t(8899)),_N_E=e.O()}]);