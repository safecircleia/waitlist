(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{387:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(6384),i=a(6636),l=a(7988),r=a(4582),n=a(1636),o=a(9934),c=a(5212),d=a(9100),u=a(1685),m=a.n(u),f=a(2893),x=a(1755);function h(){let{data:e,isPending:t}=(0,l.wV)(),a=null==e?void 0:e.user;console.log("Waitlist Page - Session Data:",e),console.log("Waitlist Page - User:",a),console.log("Waitlist Page - Is Loading:",t);let u=(0,r.useSearchParams)(),[h,b]=(0,i.useState)(!1),[g,p]=(0,i.useState)(!1),[j,w]=(0,i.useState)({});return(0,i.useEffect)(()=>{t||a||(console.log("Waitlist Page - No user detected, redirecting to homepage"),(0,r.redirect)("/"))},[t,a]),(0,i.useEffect)(()=>{if(u.get("ref")){b(!0);let e=setTimeout(()=>{b(!1)},5e3);return()=>clearTimeout(e)}},[u]),(0,i.useEffect)(()=>{a&&(console.log("Waitlist Page - User detected, checking waitlist submission"),(async()=>{try{let e=(0,d.k)(),{data:t,error:s}=await e.from("waitlist").select("referral_code").eq("email",a.email).single();console.log("Waitlist Page - Supabase response:",t,s),t&&(p(!0),w({referralCode:t.referral_code}))}catch(e){console.error("Error checking waitlist submission:",e)}})())},[a]),(0,s.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-center py-10 px-4 relative overflow-hidden",children:[(0,s.jsxs)(f.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"mb-10 text-center relative z-10",children:[(0,s.jsx)(f.P.div,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5,delay:.3},children:(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-3 tracking-tight",children:"SafeCircle"})}),(0,s.jsx)(f.P.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"text-[#a0a0a0] max-w-md mx-auto",children:g?"Thanks for being part of our community!":"Join our waitlist to be the first to experience our revolutionary security platform."})]}),(0,s.jsx)("div",{className:"w-full max-w-md relative z-10",children:t?(0,s.jsx)("div",{className:"flex justify-center p-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"})}):g?(0,s.jsxs)(o.Zp,{className:"bg-gradient-to-b from-[#0f0f0f]/90 to-[#0a0a0a]/90 backdrop-blur-md border border-[#1a1a1a] shadow-xl",children:[(0,s.jsx)(o.aR,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2 text-center",children:[(0,s.jsx)("div",{className:"rounded-full bg-green-500/10 p-3",children:(0,s.jsx)(x.A,{className:"h-6 w-6 text-green-500"})}),(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"You're on the list!"}),(0,s.jsx)("p",{className:"text-sm text-[#a0a0a0] max-w-sm",children:"Thanks for joining our waitlist."})]})}),(0,s.jsx)(o.Wu,{children:(0,s.jsx)("div",{className:"flex justify-center pt-4",children:(0,s.jsx)(m(),{href:"/dashboard",children:(0,s.jsx)(c.$,{variant:"outline",className:"w-full",children:"Dashboard"})})})})]}):(0,s.jsx)(n.A,{user:a,onSubmitSuccess:e=>{p(!0),w({referralCode:e})}})})]})}},1044:(e,t,a)=>{"use strict";a.d(t,{b:()=>n});var s=a(6636),i=a(9727),l=a(6384),r=s.forwardRef((e,t)=>(0,l.jsx)(i.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var n=r},1116:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(4287).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7228:(e,t,a)=>{Promise.resolve().then(a.bind(a,387))}},e=>{var t=t=>e(e.s=t);e.O(0,[148,893,965,685,388,756,102,309,951,358],()=>t(7228)),_N_E=e.O()}]);