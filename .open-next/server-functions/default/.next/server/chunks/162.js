"use strict";exports.id=162,exports.ids=[162],exports.modules={11162:(e,a,t)=>{t.d(a,{A:()=>P});var s=t(59260),i=t(39045),r=t(41295),l=t(25023),n=t(16361),o=t(15547),d=t(83166);async function c(e){try{let a=await fetch("/api/waitlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await a.json()}catch(e){return{success:!1,message:"An unexpected error occurred"}}}d.z.object({email:d.z.string().email("Please enter a valid email address"),name:d.z.string().min(2,"Name must be at least 2 characters").max(100),company:d.z.string().optional(),referralCode:d.z.string().optional()});var m=t(77098),x=t(51960),u=t(13914),h=t(7714),f=t(40797),p=t(93457),b=t(59133),y=t(1034),g=t(63339),j=t(86482),N=t(87423);function w({show:e}){let[a,t]=(0,i.useState)(e);return(0,s.jsx)(r.N,{children:a&&(0,s.jsxs)(l.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeOut"},className:"fixed top-4 right-4 bg-[#1a1a1a]/80 border border-[#333333] rounded-lg p-3 shadow-lg z-50 flex items-center backdrop-blur-sm",children:[(0,s.jsx)(N.A,{className:"h-4 w-4 text-white mr-2"}),(0,s.jsx)("span",{className:"text-sm text-white",children:"Email notification sent to referrer!"})]})})}function v({progress:e}){return(0,s.jsx)("div",{className:"w-full h-1 bg-[#1a1a1a] rounded-full overflow-hidden",children:(0,s.jsx)(l.P.div,{className:"h-full bg-white",initial:{width:0},animate:{width:`${e}%`},transition:{duration:.5}})})}t(68720);let _=d.z.object({email:d.z.string().email("Please enter a valid email address"),name:d.z.string().min(2,"Name must be at least 2 characters").max(100),company:d.z.string().optional(),referralCode:d.z.string().optional()});function P({user:e,onSubmitSuccess:a}){let t=(0,j.useSearchParams)(),[d,m]=(0,i.useState)(!1),[x,u]=(0,i.useState)({}),[y,g]=(0,i.useState)(!1),[N,P]=(0,i.useState)(0),[A,k]=(0,i.useState)(!0),{register:R,handleSubmit:T,setValue:$,watch:J,formState:{errors:Y,isValid:E,isDirty:F},reset:O}=(0,n.mN)({resolver:(0,o.u)(_),mode:"onChange",defaultValues:{name:e?.name||"",email:e?.email||""}});J(["name","email","company"]);let q=async e=>{m(!0);try{let t=await c(e);u(t),t.success&&(O(),P(0),t.referralCode&&a&&a(t.referralCode),e.referralCode&&g(!0))}catch(e){u({success:!1,message:"An unexpected error occurred. Please try again."})}finally{m(!1)}};return(0,s.jsxs)("div",{className:"w-full max-w-md mx-auto",children:[(0,s.jsx)(w,{show:y}),(0,s.jsx)(r.N,{mode:"wait",children:A?(0,s.jsxs)("div",{className:"bg-gradient-to-b from-[#0f0f0f]/90 to-[#0a0a0a]/90 backdrop-blur-md p-8 rounded-2xl border border-[#1a1a1a] shadow-xl relative overflow-hidden flex flex-col items-center justify-center min-h-[200px]",children:[(0,s.jsx)(h.A,{className:"h-8 w-8 text-white animate-spin mb-4"}),(0,s.jsx)("p",{className:"text-[#a0a0a0] text-sm",children:"Checking waitlist status..."})]}):x.success?(0,s.jsx)(z,{referralCode:x.referralCode,onReset:()=>u({})}):(0,s.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:[.22,1,.36,1]},className:"bg-gradient-to-b from-[#0f0f0f]/90 to-[#0a0a0a]/90 backdrop-blur-md p-8 rounded-2xl border border-[#1a1a1a] shadow-xl relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_rgba(120,_120,_120,_0.05),_transparent_60%)]"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom_left,_rgba(120,_120,_120,_0.05),_transparent_60%)]"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white tracking-tight",children:"Join the waitlist"}),(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-[#1a1a1a] flex items-center justify-center",children:(0,s.jsx)(f.A,{className:"h-5 w-5 text-white opacity-70"})})]}),(0,s.jsx)(v,{progress:N}),(0,s.jsxs)("form",{onSubmit:T(q),className:"space-y-6 mt-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(C,{id:"name",label:"Full Name",placeholder:"Enter your name",icon:(0,s.jsx)(p.A,{className:"h-4 w-4 text-[#666666]"}),error:Y.name?.message,...R("name")}),(0,s.jsx)(C,{id:"email",label:"Email Address",type:"email",placeholder:"you@example.com",icon:(0,s.jsx)(f.A,{className:"h-4 w-4 text-[#666666]"}),error:Y.email?.message,...R("email")}),(0,s.jsx)(C,{id:"company",label:"Company (optional)",placeholder:"Your organization",icon:(0,s.jsx)(b.A,{className:"h-4 w-4 text-[#666666]"}),...R("company")}),(0,s.jsx)("input",{type:"hidden",...R("referralCode")})]}),t.get("ref")&&(0,s.jsx)(l.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 bg-[#1a1a1a]/50 backdrop-blur-sm border border-[#333333] rounded-lg",children:(0,s.jsx)("p",{className:"text-xs text-[#a0a0a0]",children:"You've been referred by a friend. You'll get priority access to SafeCircle."})}),x.message&&!x.success&&(0,s.jsx)(l.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 bg-[#2a1215]/50 backdrop-blur-sm border border-[#5c2428] rounded-lg",children:(0,s.jsx)("p",{className:"text-xs text-[#ff4d4f]",children:x.message})}),(0,s.jsx)(S,{isSubmitting:d,isValid:E&&F}),(0,s.jsx)("div",{className:"text-center mt-4",children:(0,s.jsxs)("p",{className:"text-[#666666] text-xs",children:["By joining, you agree to our"," ",(0,s.jsx)("a",{href:"#",className:"text-white hover:text-[#a0a0a0] transition-colors",children:"Terms"})," ","and"," ",(0,s.jsx)("a",{href:"#",className:"text-white hover:text-[#a0a0a0] transition-colors",children:"Privacy Policy"})]})})]})]})]},"form")})]})}function C({id:e,label:a,error:t,icon:i,...n}){return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.J,{htmlFor:e,className:"text-[#a0a0a0] text-sm font-medium flex items-center",children:a}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i}),(0,s.jsx)(x.p,{id:e,className:`h-11 pl-10 pr-3 bg-[#0d0d0d] border-[#222222] text-white placeholder:text-[#555555] text-sm transition-all duration-200
            ${t?"border-[#ff4d4f] focus:ring-[#ff4d4f]":"border-[#222222] focus:border-[#444444] focus:ring-[#444444]"}
            hover:border-[#333333]`,...n})]}),(0,s.jsx)(r.N,{children:t&&(0,s.jsx)(l.P.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-xs text-[#ff4d4f] mt-1",children:t})})]})}function S({isSubmitting:e,isValid:a}){return(0,s.jsx)(l.P.div,{whileHover:a&&!e?{scale:1.02}:{},whileTap:a&&!e?{scale:.98}:{},children:(0,s.jsx)(m.$,{type:"submit",disabled:e||!a,className:`w-full h-12 rounded-lg text-sm font-medium transition-all duration-300
          ${a?"bg-white hover:bg-[#f0f0f0] text-black":"bg-[#1a1a1a] text-[#666666] cursor-not-allowed"}`,children:e?(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsxs)("span",{className:"flex items-center",children:["Request Access ",(0,s.jsx)(y.A,{className:"ml-2 h-4 w-4"})]})})})}function z({referralCode:e,onReset:a}){return(0,s.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:[.22,1,.36,1]},className:"bg-gradient-to-b from-[#0f0f0f]/90 to-[#0a0a0a]/90 backdrop-blur-md p-8 rounded-2xl border border-[#1a1a1a] shadow-xl relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_rgba(120,_120,_120,_0.05),_transparent_60%)]"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom_left,_rgba(120,_120,_120,_0.05),_transparent_60%)]"}),(0,s.jsxs)("div",{className:"flex flex-col items-center text-center relative z-10",children:[(0,s.jsx)(l.P.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},className:"w-16 h-16 bg-[#1a1a1a] rounded-full flex items-center justify-center mb-6 border border-[#333333]",children:(0,s.jsx)(g.A,{className:"w-8 h-8 text-white"})}),(0,s.jsxs)(l.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold text-white",children:"You're on the list!"}),(0,s.jsx)("p",{className:"text-[#a0a0a0] text-sm max-w-sm",children:"Thank you for joining our waitlist. We'll notify you when it's your turn to access SafeCircle."}),e&&(0,s.jsx)(ReferralSystem,{referralCode:e}),(0,s.jsx)("div",{className:"pt-6 mt-6 border-t border-[#222222]",children:(0,s.jsx)(m.$,{onClick:a,variant:"outline",className:"border-[#333333] bg-[#111111] text-white hover:bg-[#1a1a1a] text-sm font-normal",children:"Submit another request"})})]})]})]},"success")}},13914:(e,a,t)=>{t.d(a,{J:()=>d});var s=t(59260),i=t(39045),r=t(38300),l=t(33338),n=t(7845);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef(({className:e,...a},t)=>(0,s.jsx)(r.b,{ref:t,className:(0,n.cn)(o(),e),...a}));d.displayName=r.b.displayName},51960:(e,a,t)=>{t.d(a,{p:()=>l});var s=t(59260),i=t(39045),r=t(7845);let l=i.forwardRef(({className:e,type:a,...t},i)=>(0,s.jsx)("input",{type:a,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#444444] focus-visible:border-[#444444] disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",e),ref:i,...t}));l.displayName="Input"}};